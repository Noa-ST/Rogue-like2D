BUFF DATA

1. Tá»•ng quan vá» enum Type : byte
public enum Type : byte
{
    buff = 1,        // Buff cÃ³ lá»£i cho nhÃ¢n váº­t
    debuff = 2,      // Debuff gÃ¢y báº¥t lá»£i cho nhÃ¢n váº­t
    freeze = 4,      // Buff lÃ m Ä‘Ã³ng bÄƒng má»¥c tiÃªu
    strong = 8       // Buff giÃºp nhÃ¢n váº­t máº¡nh hÆ¡n
}
enum lÃ  má»™t kiá»ƒu dá»¯ liá»‡u liá»‡t kÃª, giÃºp Ä‘á»‹nh nghÄ©a má»™t táº­p há»£p cÃ¡c háº±ng sá»‘ cÃ³ giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh.
: byte chá»‰ Ä‘á»‹nh ráº±ng giÃ¡ trá»‹ cá»§a cÃ¡c pháº§n tá»­ trong enum sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ dÆ°á»›i dáº¡ng byte (tá»« 0 Ä‘áº¿n 255), giÃºp tiáº¿t kiá»‡m bá»™ nhá»› hÆ¡n so vá»›i kiá»ƒu máº·c Ä‘á»‹nh int.
Má»—i giÃ¡ trá»‹ trong enum Type lÃ  má»™t sá»‘ nguyÃªn, vÃ  chÃºng Ä‘Æ°á»£c khai bÃ¡o vá»›i cÃ¡c giÃ¡ trá»‹ theo lÅ©y thá»«a cá»§a 2: 1, 2, 4, 8. Äiá»u nÃ y giÃºp sá»­ dá»¥ng nhÆ° bit flags, cho phÃ©p káº¿t há»£p nhiá»u loáº¡i buff báº±ng toÃ¡n tá»­ bitwise (|).
2. Giáº£i thÃ­ch tá»«ng loáº¡i Buff
GiÃ¡ trá»‹	Enum	Giáº£i thÃ­ch
1 (0b0001)	buff	Má»™t buff cÃ³ lá»£i cho nhÃ¢n váº­t, giÃºp tÄƒng sá»©c máº¡nh hoáº·c kháº£ nÄƒng.
2 (0b0010)	debuff	Má»™t debuff gÃ¢y báº¥t lá»£i, cÃ³ thá»ƒ lÃ m yáº¿u nhÃ¢n váº­t hoáº·c káº» Ä‘á»‹ch.
4 (0b0100)	freeze	Má»™t buff/detriment lÃ m Ä‘Ã³ng bÄƒng má»¥c tiÃªu, ngÄƒn cháº·n di chuyá»ƒn hoáº·c hÃ nh Ä‘á»™ng.
8 (0b1000)	strong	Má»™t buff lÃ m nhÃ¢n váº­t máº¡nh hÆ¡n, cÃ³ thá»ƒ tÄƒng sÃ¡t thÆ°Æ¡ng hoáº·c phÃ²ng thá»§.
VÃ¬ cÃ¡c giÃ¡ trá»‹ lÃ  lÅ©y thá»«a cá»§a 2, chÃºng cÃ³ thá»ƒ Ä‘Æ°á»£c káº¿t há»£p Ä‘á»ƒ táº¡o ra nhiá»u loáº¡i buff cÃ¹ng lÃºc báº±ng toÃ¡n tá»­ | (bitwise OR).
3. á»¨ng dá»¥ng: Káº¿t há»£p nhiá»u loáº¡i buff
Khi sá»­ dá»¥ng Flags, cÃ¡c loáº¡i buff cÃ³ thá»ƒ Ä‘Æ°á»£c káº¿t há»£p báº±ng cÃ¡ch sá»­ dá»¥ng toÃ¡n tá»­ | (bitwise OR).

BuffData.Type myBuff = BuffData.Type.buff | BuffData.Type.strong;
myBuff bÃ¢y giá» cÃ³ cáº£ buff (1) vÃ  strong (8).
GiÃ¡ trá»‹ nhá»‹ phÃ¢n cá»§a myBuff lÃ :
buff   = 0001 (1)
strong = 1000 (8)
----------------
Tá»•ng   = 1001 (9)
-> NghÄ©a lÃ  myBuff chá»©a cáº£ buff vÃ  strong.

1. GetTickDamage(int variant = 0)
ğŸ”¹ Má»¥c Ä‘Ã­ch:

TÃ­nh toÃ¡n lÆ°á»£ng sÃ¡t thÆ°Æ¡ng gÃ¢y ra má»—i láº§n tick (má»—i khoáº£ng thá»i gian Ã¡p dá»¥ng sÃ¡t thÆ°Æ¡ng).
ğŸ”¹ CÃ¡ch hoáº¡t Ä‘á»™ng:

Láº¥y dá»¯ liá»‡u buff theo cáº¥p Ä‘á»™ (variant) báº±ng cÃ¡ch gá»i Get(variant).
NhÃ¢n sÃ¡t thÆ°Æ¡ng má»—i giÃ¢y (damagePerSecond) vá»›i khoáº£ng thá»i gian giá»¯a cÃ¡c láº§n tick (tickInterval) Ä‘á»ƒ tÃ­nh sÃ¡t thÆ°Æ¡ng má»—i láº§n tick.
ğŸ”¹ CÃ´ng thá»©c:

TickDamage=damagePerSecondÃ—tickInterval
2. GetTickHeal(int variant = 0)
ğŸ”¹ Má»¥c Ä‘Ã­ch:

TÃ­nh toÃ¡n lÆ°á»£ng há»“i mÃ¡u má»—i láº§n tick.
ğŸ”¹ CÃ¡ch hoáº¡t Ä‘á»™ng:

Láº¥y dá»¯ liá»‡u buff theo cáº¥p Ä‘á»™ (variant).
NhÃ¢n há»“i mÃ¡u má»—i giÃ¢y (healPerSecond) vá»›i khoáº£ng thá»i gian giá»¯a cÃ¡c láº§n tick (tickInterval) Ä‘á»ƒ tÃ­nh lÆ°á»£ng há»“i mÃ¡u má»—i láº§n tick.
ğŸ”¹ CÃ´ng thá»©c:

TickHeal=healPerSecondÃ—tickInterval
3. Get(int variant = -1)
ğŸ”¹ Má»¥c Ä‘Ã­ch:

Láº¥y thÃ´ng tin buff theo cáº¥p Ä‘á»™ (variant).
ğŸ”¹ CÃ¡ch hoáº¡t Ä‘á»™ng:

Náº¿u variant nhá» hÆ¡n 0, máº·c Ä‘á»‹nh láº¥y buff cáº¥p tháº¥p nháº¥t (variations[0]).
Sá»­ dá»¥ng Mathf.Max(0, variant) Ä‘á»ƒ Ä‘áº£m báº£o variant khÃ´ng nhá» hÆ¡n 0 (trÃ¡nh lá»—i truy cáº­p máº£ng).
Tráº£ vá» thÃ´ng tin buff (Stats) tÆ°Æ¡ng á»©ng.
VÃ­ dá»¥ minh há»a
Giáº£ sá»­ ta cÃ³ buff sau:

variations[0] = new Stats { damagePerSecond = 4f, healPerSecond = 2f, tickInterval = 0.5f };
variations[1] = new Stats { damagePerSecond = 6f, healPerSecond = 3f, tickInterval = 0.25f };
ğŸ‘‰ TÃ­nh sÃ¡t thÆ°Æ¡ng má»—i láº§n tick cho buff cáº¥p 0:

csharp
Copy
Edit
float damage = GetTickDamage(0); // 4 * 0.5 = 2 sÃ¡t thÆ°Æ¡ng má»—i tick
ğŸ‘‰ TÃ­nh há»“i mÃ¡u má»—i láº§n tick cho buff cáº¥p 1:

float heal = GetTickHeal(1); // 3 * 0.25 = 0.75 mÃ¡u má»—i tick
TÃ³m táº¯t
GetTickDamage() vÃ  GetTickHeal() tÃ­nh toÃ¡n sÃ¡t thÆ°Æ¡ng hoáº·c há»“i mÃ¡u má»—i láº§n tick dá»±a trÃªn dá»¯ liá»‡u buff.
Get() láº¥y thÃ´ng tin buff theo cáº¥p Ä‘á»™, náº¿u khÃ´ng cÃ³ sáº½ láº¥y cáº¥p tháº¥p nháº¥t.
Má»¥c tiÃªu: GiÃºp dá»… dÃ ng quáº£n lÃ½ hiá»‡u á»©ng buff theo thá»i gian (DoT, HoT) mÃ  khÃ´ng cáº§n tÃ­nh toÃ¡n thá»§ cÃ´ng trong gameplay.